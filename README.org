#+title: visual-shorthands - Purely visual prefix abbreviations

Visual-shorthands provides display-only abbreviations for long symbol prefixes
using overlays. Unlike Emacs' [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Shorthands.html][built-in]] ~read-symbol-shorthands~, which requires
file-local variables and affects eval, visual-shorthands operates purely at the
display layer and can be toggled interactively.

The package is designed for /reading/ code written by others with verbose naming
conventions, such as Emacs Lisp code and packages, but it can still be used in
other languages. If you need actual Namespaces, use the [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Shorthands.html][built-in shorthands]].
Symbols are automatically revealed when the cursor enters them, allowing normal
navigation and editing of the actual buffer text.

* Screenshots
#+begin_quote
[!TIP]
Also using [[https://github.com/gggion/lisp-docstring-toggle][lisp-docstring-toggle]] to hide docstrings in the buffer for readability's sake.
#+end_quote

[[https://github.com/gggion/visual-shorthands.el/blob/screenshots/visual-shorthands.gif?raw=true]]

* Commands
#+begin_quote
[!NOTE]
Mappings are buffer-local.
#+end_quote

| ~visual-shorthands-mode~           | Toggle visual shorthand overlays with auto-reveal in current buffer. |
| ~visual-shorthands-add-mapping~    | Add visual shorthand mapping from LONGHAND to SHORTHAND.             |
| ~visual-shorthands-clear-mappings~ | Clear all visual shorthand mappings.                                 |
| ~visual-shorthands-remove-mapping~ | Remove visual shorthand mapping for LONGHAND.                        |

* Installation

visual-shorthands is on MELPA, so you can run =M-x package-install= ⏎ =visual-shorthands= in Emacs.

- Manual  ::
Clone or download this repository and run =M-x package-install-file= ⏎ on the repository directory.

Or from =use-package= (Emacs 30+):
#+begin_src emacs-lisp
(use-package visual-shorthands
  :vc ( :url "https://github.com/gggion/visual-shorthands.el"
             :rev :newest)
  :hook (emacs-lisp-mode . visual-shorthands-mode))
#+end_src

- Straight or Elpaca  ::
#+begin_src emacs-lisp
(straight-use-package 'visual-shorthands) 
;; OR
(elpaca visual-shorthands)
#+end_src

Or from =use-package=:

#+begin_src emacs-lisp
(use-package visual-shorthands
  :straight t  ; use :ensure t for Elpaca
  :hook (emacs-lisp-mode . visual-shorthands-mode))
#+end_src

* Configuration
+ Setup ::

#+begin_src emacs-lisp
(use-package visual-shorthands
  :config
  ;; Enable in specific modes
  (add-hook 'emacs-lisp-mode-hook #'visual-shorthands-mode))
#+end_src

+ Interactive Mapping Creation :: As shown in the above gif, call ~M-x visual-shorthands-add-mapping~ to create mappings interactively. As you type the longhand prefix, matching symbols in the buffer are highlighted with ~visual-shorthands-preview-face~, needs the mode to be active in the buffer.

+ Project-Specific Configuration :: You can also use directory-local variables for project-specific mappings.

#+begin_src emacs-lisp
;; In .dir-locals.el at project root
((nil . ((eval . (progn
                   (visual-shorthands-add-mapping "package-function-long-prefix--" "pflp:")
                   (visual-shorthands-mode 1))))))
#+end_src


